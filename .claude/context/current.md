# Current Work Status

## ğŸ“ í˜„ì¬ ìœ„ì¹˜
**íŒŒì¼**: apps/web/app/vendors/page.tsx
**ì‘ì—…**: Vendors í˜ì´ì§€ ëª©ì—… UI êµ¬í˜„ ì™„ë£Œ

## ğŸ¯ í˜„ì¬ ì‘ì—…
Vendors í˜ì´ì§€ ëª©ì—… UI êµ¬í˜„ (ê²€ìƒ‰, í•„í„°ë§, ì •ë ¬ ê¸°ëŠ¥ í¬í•¨)

### ì™„ë£Œëœ ì‘ì—…
1. âœ… Monorepo êµ¬ì¡° ìƒì„± (Turborepo + pnpm workspace)
2. âœ… ê³µìœ  íŒ¨í‚¤ì§€ ì„¤ì • (@sdm/types, @sdm/config)
3. âœ… Prisma ìŠ¤í‚¤ë§ˆ ì‘ì„± (apps/api/prisma/schema.prisma)
4. âœ… Docker Compose ì„¤ì • (PostgreSQL + Redis)
5. âœ… ê¸°ë³¸ ì„¤ì • íŒŒì¼ (.gitignore, .prettierrc, tsconfig.base.json)
6. âœ… Next.js 15 í”„ë¡ íŠ¸ì—”ë“œ ì´ˆê¸°í™” ì™„ë£Œ
7. âœ… NestJS ë°±ì—”ë“œ ì´ˆê¸°í™” ì™„ë£Œ
8. âœ… Docker Compose ì‹¤í–‰ (PostgreSQL + Redis ì‹œì‘)
9. âœ… Prisma ë§ˆì´ê·¸ë ˆì´ì…˜ ì‹¤í–‰ (DB í…Œì´ë¸” ìƒì„±)
10. âœ… ë°±ì—”ë“œ ì„œë²„ ì‹¤í–‰ í…ŒìŠ¤íŠ¸
11. âœ… ì´ë¯¸ì§€ ì—…ë¡œë“œ ì»´í¬ë„ŒíŠ¸ ê°œë°œ ì™„ë£Œ
12. âœ… DB ë”ë¯¸ ë°ì´í„° ìƒì„± ë° ì‚½ì… (ì´ 254ê°œ ë ˆì½”ë“œ)
13. âœ… ë°±ì—”ë“œ ì„œë²„ ì¢…ë£Œ
14. âœ… **Zustand ìŠ¤í† ì–´ì— ìŠ¤í… ê´€ë¦¬ ê¸°ëŠ¥ ì¶”ê°€ (currentStep, nextStep, prevStep, ì´ë¦„ í•„ë“œ)**
15. âœ… **Step1 UI ì¬êµ¬ì„± (input ì œê±°, ì„œë¹„ìŠ¤ ì„¤ëª… ì¶”ê°€)**
16. âœ… **Step3ì— ì´ë¦„ ì…ë ¥ í•„ë“œ ì´ë™ (ì´ë¯¸ì§€ ì—…ë¡œë” ì•„ë˜)**
17. âœ… **page.tsx ìŠ¤í…ë³„ ì¡°ê±´ë¶€ ë Œë”ë§ êµ¬í˜„**
18. âœ… **ëª¨ë“  ìŠ¤í…ì— ë„¤ë¹„ê²Œì´ì…˜ ë²„íŠ¼ ì—°ê²°**
19. âœ… **ë°±ì—”ë“œ Vendor Service êµ¬í˜„ (í•„í„°ë§, í˜ì´ì§€ë„¤ì´ì…˜, ì •ë ¬)**
20. âœ… **ë°±ì—”ë“œ Vendor Controller êµ¬í˜„ (API ì—”ë“œí¬ì¸íŠ¸ 4ê°œ)**
21. âœ… **í”„ë¡ íŠ¸ì—”ë“œ Vendor í˜ì´ì§€ ë°ì´í„° ì—°ë™ (ì¹´í…Œê³ ë¦¬, ëª©ë¡)**
22. âœ… **Vendor ëª©ë¡ ì¹´ë“œ UI êµ¬í˜„ (ì¸ë„¤ì¼, íƒœê·¸, í‰ì )**
23. âœ… **Query íŒŒë¼ë¯¸í„° íƒ€ì… ë³€í™˜ ì²˜ë¦¬ (parseInt)**
24. âœ… **í†µí•© í…ŒìŠ¤íŠ¸ ì™„ë£Œ (ë°±ì—”ë“œ/í”„ë¡ íŠ¸ì—”ë“œ ì„œë²„ ì‹¤í–‰)**
25. âœ… **ë©”ì¸ í˜ì´ì§€ Carouselì— Vendor ë°ì´í„° ì—°ê²° (ìŠ¤íŠœë””ì˜¤, ë“œë ˆìŠ¤)**
26. âœ… **MongoDB ë§ˆì´ê·¸ë ˆì´ì…˜ ê³„íš ë¬¸ì„œ ì‘ì„± (007_mongodb_migration_plan.md)**
27. âœ… **PostgreSQL vs MongoDB ë¹„êµ DKB ë¬¸ì„œ ì‘ì„± (008_postgresql_vs_mongodb.md)**
28. âœ… **docker-compose.ymlì— MongoDB ì¶”ê°€ (Replica Set ëª¨ë“œ)**
29. âœ… **Prisma schema MongoDBë¡œ ì™„ì „ ì „í™˜**
30. âœ… **Many-to-Many ê´€ê³„ ì¬ì„¤ê³„ (VendorTagâ†’tags JSON, Favoriteâ†’favoriteVendorIds)**
31. âœ… **Enumì„ Stringìœ¼ë¡œ ë³€ê²½**
32. âœ… **MongoDB Replica Set ì´ˆê¸°í™”**
33. âœ… **MongoDB seed ìŠ¤í¬ë¦½íŠ¸ ì‘ì„± ë° ë°ì´í„° ì‚½ì… (20 vendors, 5 categories, 15 tags)**
34. âœ… **ë°±ì—”ë“œ Vendor ì„œë¹„ìŠ¤ JSON í•„ë“œ ì²˜ë¦¬ ë¡œì§ ìˆ˜ì •**
35. âœ… **Vendors í˜ì´ì§€ ëª©ì—… UI êµ¬í˜„ ë° ê°œì„ ** â­ NEW
    - ê²€ìƒ‰ input (ì—…ì²´ ì´ë¦„ ê²€ìƒ‰, í–¥ìƒëœ ë””ìì¸)
    - ì¹´í…Œê³ ë¦¬ ì„ íƒ (ì „ì²´/ìŠ¤íŠœë””ì˜¤/ë“œë ˆìŠ¤/ë©”ì´í¬ì—…/ì˜ˆì‹ì¥/í•œë³µ) + ì´ëª¨ì§€ ì•„ì´ì½˜
    - ì •ë ¬ ì˜µì…˜ (ì¸ê¸°ìˆœ/ê°€ê²©ìˆœ/ë³„ì ìˆœ) + ì•„ì´ì½˜
    - ì—…ì²´ ì¹´ë“œ ê·¸ë¦¬ë“œ (3ì—´ ë ˆì´ì•„ì›ƒ, ë°˜ì‘í˜•)
    - ì¢‹ì•„ìš” ê¸°ëŠ¥, ì¸ê¸° ë±ƒì§€, í‰ì /ë¦¬ë·° í‘œì‹œ
    - ì¶”ê°€ ê¸°ëŠ¥: ì¶”ì²œ ë±ƒì§€, í• ì¸ ë±ƒì§€, í†µê³„ ì •ë³´
    - 12ê°œ ëª©ì—… ë°ì´í„° (ë‹¤ì–‘í•œ ì¹´í…Œê³ ë¦¬)
    - Next.js Image ì»´í¬ë„ŒíŠ¸ ì‚¬ìš©
    - í–¥ìƒëœ ì• ë‹ˆë©”ì´ì…˜ ë° í˜¸ë²„ íš¨ê³¼
    - ê²€ìƒ‰ ê²°ê³¼ ì—†ì„ ì‹œ ë¦¬ì…‹ ë²„íŠ¼
    - ìƒì„¸ë³´ê¸° ë²„íŠ¼ ì¶”ê°€

### ğŸ”„ MongoDB ë§ˆì´ê·¸ë ˆì´ì…˜ ìƒì„¸
- âœ… Prisma provider: `postgresql` â†’ `mongodb`
- âœ… ID í•„ë“œ: `@default(cuid())` â†’ `@default(auto()) @map("_id") @db.ObjectId`
- âœ… VendorImage ëª¨ë¸ ì œê±° â†’ `Vendor.images: Json` (ì„ë² ë””ë“œ)
- âœ… VendorTag ëª¨ë¸ ì œê±° â†’ `Vendor.tags: Json` (ì„ë² ë””ë“œ)
- âœ… Favorite ëª¨ë¸ ì œê±° â†’ `User.favoriteVendorIds: String[]` (ë°°ì—´)
- âœ… Enum ì œê±° â†’ String íƒ€ì…ìœ¼ë¡œ ë³€ê²½
- âœ… MongoDB Replica Set ì„¤ì • (íŠ¸ëœì­ì…˜ ì§€ì›)
- âœ… Seed ë°ì´í„°: 20 users, 5 categories, 15 tags, 20 vendors, 15 simulations, 20 bookings, 8 reviews

### Next.js ì´ˆê¸°í™” ìƒì„¸
- âœ… Next.js 15 + App Router
- âœ… TypeScript + Tailwind CSS ì„¤ì •
- âœ… shadcn/ui ê¸°ë³¸ ì„¤ì • (Button, Card ì»´í¬ë„ŒíŠ¸)
- âœ… ê¸°ë³¸ í˜ì´ì§€ êµ¬ì¡° (/, /vendors, /my-results)
- âœ… Zustand ìŠ¤í† ì–´ ì„¤ì • (useSimulatorStore)
- âœ… API í´ë¼ì´ì–¸íŠ¸ (axios)
- âœ… í™˜ê²½ë³€ìˆ˜ ì„¤ì • (.env.local)

### NestJS ë°±ì—”ë“œ ì´ˆê¸°í™” ìƒì„¸
- âœ… NestJS í”„ë¡œì íŠ¸ êµ¬ì¡° ìƒì„±
- âœ… ì˜ì¡´ì„± ì„¤ì¹˜ (package.json)
- âœ… ê¸°ë³¸ ëª¨ë“ˆ êµ¬ì¡° (Upload, Processing, Vendor, Result, Storage)
- âœ… Prisma ëª¨ë“ˆ ë° ì„œë¹„ìŠ¤ ìƒì„±
- âœ… Global Config ëª¨ë“ˆ
- âœ… main.ts (ì„œë²„ ì§„ì…ì , CORS, Validation Pipe)
- âœ… Prisma Client ìƒì„±

### Vendor API êµ¬í˜„ ìƒì„¸
- âœ… GET /api/vendors - ì „ì²´ ì—…ì²´ ëª©ë¡ (í•„í„°ë§, í˜ì´ì§€ë„¤ì´ì…˜, ì •ë ¬)
- âœ… GET /api/vendors/categories - ì¹´í…Œê³ ë¦¬ ëª©ë¡
- âœ… GET /api/vendors/category/:slug - ì¹´í…Œê³ ë¦¬ë³„ ì—…ì²´ ëª©ë¡
- âœ… GET /api/vendors/:id - íŠ¹ì • ì—…ì²´ ìƒì„¸ ì •ë³´
- âœ… Query íŒŒë¼ë¯¸í„° íƒ€ì… ë³€í™˜ (page, limit, priceMin, priceMax)

### ë‹¤ìŒ ë‹¨ê³„
1. âœ… MongoDB ë§ˆì´ê·¸ë ˆì´ì…˜ ì™„ë£Œ
2. ë°±ì—”ë“œ/í”„ë¡ íŠ¸ì—”ë“œ í†µí•© í…ŒìŠ¤íŠ¸
3. S3/R2 ìŠ¤í† ë¦¬ì§€ ì—°ë™ (ì‹¤ì œ ì´ë¯¸ì§€ ì €ì¥)
4. AI ì²˜ë¦¬ í ì‹œìŠ¤í…œ êµ¬í˜„ (BullMQ)
5. WebSocketìœ¼ë¡œ ì‹¤ì‹œê°„ ì§„í–‰ ìƒíƒœ ì „ë‹¬
6. ê²°ê³¼ í˜ì´ì§€ êµ¬í˜„ ë° ì—…ì²´ ë§¤ì¹­ ê¸°ëŠ¥

## ğŸ“Š ì§„í–‰ ìƒí™©
- [x] ê¸°ìˆ  ìŠ¤íƒ ì¶”ì²œ ì™„ë£Œ
- [x] ì´ˆê¸° ê³„íš ë¬¸ì„œ ì‘ì„± (001_initial_plan.md)
- [x] ì„¤ì • Todo ë¬¸ì„œ ì‘ì„± (002_setup_todo.md)
- [x] DB ìŠ¤í‚¤ë§ˆ ì„¤ê³„ ì™„ë£Œ (003_database_schema.md)
- [x] Monorepo êµ¬ì¡° ìƒì„±
- [x] Prisma ìŠ¤í‚¤ë§ˆ ì‘ì„±
- [x] Docker Compose ì„¤ì •
- [x] Next.js í”„ë¡ íŠ¸ì—”ë“œ ì´ˆê¸°í™”
- [x] NestJS ë°±ì—”ë“œ ì´ˆê¸°í™”
- [x] Prisma Client ìƒì„±
- [x] Docker Compose ì‹¤í–‰ (PostgreSQL + Redis healthy)
- [x] Prisma ë§ˆì´ê·¸ë ˆì´ì…˜ ì‹¤í–‰ (20251205015830_init)
- [x] ë°±ì—”ë“œ ì„œë²„ ì‹¤í–‰ (http://localhost:3001)
- [x] ì´ë¯¸ì§€ ì—…ë¡œë“œ ì»´í¬ë„ŒíŠ¸ ê°œë°œ
- [x] í”„ë¡ íŠ¸ì—”ë“œ ì„œë²„ ì‹¤í–‰ (http://localhost:3002)
- [x] Vendor API êµ¬í˜„ ë° ë°ì´í„° ì—°ë™ â­ NEW

## ğŸ”— ê´€ë ¨ ë¬¸ì„œ
- [001_initial_plan.md](../docs/plan/001_initial_plan.md)
- [002_setup_todo.md](../docs/todo/002_setup_todo.md)
- [003_database_schema.md](../docs/structure/003_database_schema.md)
- [004_initial_setup_review.md](../docs/review/004_initial_setup_review.md)
- [005_nestjs_basics.md](../docs/DKB/005_nestjs_basics.md)
- [006_prisma_basics.md](../docs/DKB/006_prisma_basics.md)
- [007_mongodb_migration_plan.md](../docs/plan/007_mongodb_migration_plan.md) â­ NEW
- [008_postgresql_vs_mongodb.md](../docs/DKB/008_postgresql_vs_mongodb.md) â­ NEW

## ğŸ“ ë©”ëª¨
- Frontend: Next.js 15 + TypeScript + Tailwind
- Backend: NestJS + **MongoDB** + Redis â­ CHANGED
- Database: PostgreSQL â†’ **MongoDB** (Replica Set ëª¨ë“œ) â­ MIGRATED
- ë©”ì¸ ê¸°ëŠ¥: ê²°í˜¼ ì‚¬ì§„ ì‹œë®¬ë ˆì´í„° (ì‹ ë‘/ì‹ ë¶€ ì´ë¯¸ì§€ ì…ë ¥ â†’ AI ì²˜ë¦¬ â†’ ê²°ê³¼ ì¶œë ¥)
- ë¶€ê°€ ê¸°ëŠ¥: ìŠ¤íŠœë””ì˜¤/ë©”ì´í¬ì—…/ì˜ˆë³µ ì—…ì²´ ë§¤ì¹­ í”Œë«í¼

## ğŸ“ ìƒì„±ëœ íŒŒì¼
```
sdm/
â”œâ”€â”€ package.json                    âœ…
â”œâ”€â”€ pnpm-workspace.yaml            âœ…
â”œâ”€â”€ turbo.json                     âœ…
â”œâ”€â”€ tsconfig.base.json             âœ…
â”œâ”€â”€ .gitignore                     âœ…
â”œâ”€â”€ .prettierrc                    âœ…
â”œâ”€â”€ .npmrc                         âœ…
â”œâ”€â”€ docker-compose.yml             âœ…
â”œâ”€â”€ apps/
â”‚   â”œâ”€â”€ api/                       âœ… NEW
â”‚   â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”‚   â”œâ”€â”€ main.ts            âœ…
â”‚   â”‚   â”‚   â”œâ”€â”€ app.module.ts      âœ…
â”‚   â”‚   â”‚   â”œâ”€â”€ config/            âœ…
â”‚   â”‚   â”‚   â”œâ”€â”€ prisma/            âœ…
â”‚   â”‚   â”‚   â”œâ”€â”€ upload/            âœ…
â”‚   â”‚   â”‚   â”œâ”€â”€ processing/        âœ…
â”‚   â”‚   â”‚   â”œâ”€â”€ vendor/            âœ…
â”‚   â”‚   â”‚   â”œâ”€â”€ result/            âœ…
â”‚   â”‚   â”‚   â””â”€â”€ storage/           âœ…
â”‚   â”‚   â”œâ”€â”€ prisma/
â”‚   â”‚   â”‚   â””â”€â”€ schema.prisma      âœ…
â”‚   â”‚   â”œâ”€â”€ package.json           âœ…
â”‚   â”‚   â”œâ”€â”€ tsconfig.json          âœ…
â”‚   â”‚   â”œâ”€â”€ nest-cli.json          âœ…
â”‚   â”‚   â””â”€â”€ .env.example           âœ…
â”‚   â””â”€â”€ web/                       âœ… NEW
â”‚       â”œâ”€â”€ app/
â”‚       â”‚   â”œâ”€â”€ layout.tsx         âœ…
â”‚       â”‚   â”œâ”€â”€ page.tsx           âœ…
â”‚       â”‚   â”œâ”€â”€ globals.css        âœ…
â”‚       â”‚   â”œâ”€â”€ vendors/page.tsx   âœ…
â”‚       â”‚   â””â”€â”€ my-results/page.tsx âœ…
â”‚       â”œâ”€â”€ components/
â”‚       â”‚   â”œâ”€â”€ ui/
â”‚       â”‚   â”‚   â”œâ”€â”€ button.tsx     âœ…
â”‚       â”‚   â”‚   â””â”€â”€ card.tsx       âœ…
â”‚       â”‚   â”œâ”€â”€ simulator/         (ë””ë ‰í† ë¦¬ ìƒì„±)
â”‚       â”‚   â””â”€â”€ vendor/            (ë””ë ‰í† ë¦¬ ìƒì„±)
â”‚       â”œâ”€â”€ lib/
â”‚       â”‚   â”œâ”€â”€ utils.ts           âœ…
â”‚       â”‚   â””â”€â”€ api-client.ts      âœ…
â”‚       â”œâ”€â”€ store/
â”‚       â”‚   â””â”€â”€ useSimulatorStore.ts âœ…
â”‚       â”œâ”€â”€ package.json           âœ…
â”‚       â”œâ”€â”€ tsconfig.json          âœ…
â”‚       â”œâ”€â”€ next.config.js         âœ…
â”‚       â”œâ”€â”€ tailwind.config.ts     âœ…
â”‚       â”œâ”€â”€ postcss.config.js      âœ…
â”‚       â”œâ”€â”€ components.json        âœ…
â”‚       â””â”€â”€ .env.local             âœ…
â”œâ”€â”€ packages/
â”‚   â”œâ”€â”€ types/                     âœ…
â”‚   â””â”€â”€ config/                    âœ…
â””â”€â”€ .claude/                       (ë¬¸ì„œ ë””ë ‰í† ë¦¬)
```

## ğŸ“ ìƒˆë¡œ ìƒì„±ëœ íŒŒì¼
```
apps/web/app/simulator/steps/step3.tsx    âœ… NEW (ì´ë¯¸ì§€ ì—…ë¡œë“œ ì»´í¬ë„ŒíŠ¸)
apps/api/src/upload/upload.controller.ts   âœ… UPDATED (multer íŒŒì¼ ì—…ë¡œë“œ)
apps/api/src/upload/upload.service.ts      âœ… UPDATED (handleImageUpload)
apps/api/prisma/migrations/20251205015830_init/  âœ… NEW (DB ë§ˆì´ê·¸ë ˆì´ì…˜)
```

## â° ë§ˆì§€ë§‰ ì—…ë°ì´íŠ¸
2025-12-05 (PostgreSQL â†’ MongoDB ì™„ì „ ë§ˆì´ê·¸ë ˆì´ì…˜ ì™„ë£Œ)

## ğŸ“ ìµœê·¼ ë³€ê²½ ì‚¬í•­
### ìƒˆë¡œ ìƒì„±ëœ íŒŒì¼
- (ì—†ìŒ - ê¸°ì¡´ íŒŒì¼ ìˆ˜ì •ë§Œ ì§„í–‰)

### ìˆ˜ì •ëœ íŒŒì¼
- `apps/web/app/page.tsx` - ìŠ¤íŠœë””ì˜¤/ë“œë ˆìŠ¤ Carouselì— ì‹¤ì œ ì—…ì²´ ë°ì´í„° ì—°ë™
  - useEffectë¡œ ìŠ¤íŠœë””ì˜¤(studio), ë“œë ˆìŠ¤(dress) ì¹´í…Œê³ ë¦¬ ì—…ì²´ 10ê°œì”© ë¡œë“œ
  - ImageCarousel childrenì— ì—…ì²´ ì¹´ë“œ ì»´í¬ë„ŒíŠ¸ ì „ë‹¬
  - ì—…ì²´ ì´ë¯¸ì§€, ì´ë¦„, ìœ„ì¹˜, í‰ì  í‘œì‹œ
  - í˜¸ë²„ ì‹œ ì •ë³´ í‘œì‹œ (gradient overlay)
  - í´ë¦­ ì‹œ í•´ë‹¹ ì¹´í…Œê³ ë¦¬ í•„í„°ëœ /vendors í˜ì´ì§€ë¡œ ì´ë™

## ğŸ–¥ï¸ ì„œë²„ ìƒíƒœ
- â¸ï¸ ë°±ì—”ë“œ: http://localhost:3001 (ì¤‘ì§€ë¨)
- â¸ï¸ í”„ë¡ íŠ¸ì—”ë“œ: http://localhost:3002 (ì¤‘ì§€ë¨)
- âœ… MongoDB: localhost:27017 (ì‹¤í–‰ ì¤‘ - Replica Set: rs0) â­ NEW
- âœ… Redis: localhost:6379 (ì‹¤í–‰ ì¤‘)
- â¸ï¸ PostgreSQL: localhost:5432 (ë” ì´ìƒ ì‚¬ìš© ì•ˆ í•¨)
